ref: fedora/35/${basearch}/sodalite-common
selinux: true
boot-location: modules
etc-group-members:
  - wheel
mutate-os-release: "35"
documentation: true
packages:
  # Base
  - fedora-release
  - fedora-release-ostree-desktop
  - fedora-repos-archive
  - fedora-repos-ostree
  # Container management
  - buildah
  - podman
  - skopeo
  - toolbox
  # Dev
  - elfutils-libelf-devel
  - git-core
  - git-lfs
  - glibc-devel
  - granite-devel # For basic Pantheon development
  - kernel-devel
  - meson
  - vala
  # Device enhancements
  - hfsplus-tools # HFS filesystem tools for Apple hardware
  - smartmontools # tlp recommends installing
  - tlp # Enhancements for laptop batteries
  - touchegg # Enhancements for touch inputs
  # Fonts
  - google-roboto-mono-fonts # Roboto Mono
  - opendyslexic-fonts # Open Dyslexic
  - rsms-inter-fonts # Inter
  # Package management
  - flatpak
  - gnome-software # Replacement for AppCenter
  - python-pip
  - rpm-ostree
  # Misc
  - lvm2
  - xdg-desktop-portal
  - xprop
packages-x86_64:
  - efibootmgr
  - grub2-efi-ia32
  - grub2-efi-x64
  - grub2-pc
  - hyperv-daemons
  - mcelog
  - microcode_ctl
  - open-vm-tools-desktop
  - ostree-grub2
  - shim-ia32
  - shim-x64
  - thermald
  - virtualbox-guest-additions
  - xorg-x11-drv-intel
  - xorg-x11-drv-openchrome
  - xorg-x11-drv-vesa
  - xorg-x11-drv-vmware
exclude-packages:
  - PackageKit
  - gnome-tour # GNOME is impossible to reach, so we don't need this
default_target: graphical.target
remove-from-packages: [
  ["gnome-session-wayland-session", "/usr/share/wayland-sessions/*"],
  ["gnome-session-xsession", "/usr/share/xsessions/*"]
]
check-passwd:
  type: file
  filename: passwd
check-groups:
  type: file
  filename: group
ignore-removed-users:
  - root
ignore-removed-groups:
  - root
automatic-version-prefix: "35-<date:%Y%m%d>"
postprocess-script: post.sh
include: [
  "comps/pantheon-desktop-pkgs.yaml"
]
add-files: [
  ["../../lib/elementary.default-settings/appcenter/appcenter.hiddenapps", "/etc/appcenter/appcenter.hiddenapps"],
  ["../../lib/elementary.default-settings/cups/default-testpage.pdf", "/etc/cups/default-testpage.pdf"],
  ["../../lib/elementary.default-settings/gtk/settings.ini", "/etc/gtk/settings.ini"],
  ["../../lib/elementary.default-settings/skel/flatpak/repo/appcenter.trustedkeys.gpg", "/usr/share/gnupg/appcenter.gpg"],
  ["../../lib/elementary.default-settings/skel/plank/dock1/launchers/gala-multitaskingview.dockitem", "/etc/skel/.config/plank/dock1/launchers/gala-multitaskingview.dockitem"],
  ["../../lib/elementary.default-settings/skel/plank/dock1/launchers/io.elementary.calendar.dockitem", "/etc/skel/.config/plank/dock1/launchers/io.elementary.calendar.dockitem"],
  ["../../lib/elementary.default-settings/skel/plank/dock1/launchers/io.elementary.music.dockitem", "/etc/skel/.config/plank/dock1/launchers/io.elementary.music.dockitem"],
  ["../../lib/elementary.default-settings/skel/plank/dock1/launchers/io.elementary.photos.dockitem", "/etc/skel/.config/plank/dock1/launchers/io.elementary.photos.dockitem"],
  ["../../lib/elementary.default-settings/skel/plank/dock1/launchers/org.gnome.Epiphany.dockitem", "/etc/skel/.config/plank/dock1/launchers/org.gnome.Epiphany.dockitem"],
  ["../../lib/elementary.default-settings/skel/.inputrc", "/etc/skel/.inputrc"],
  ["../../lib/elementary.default-settings/sudoers.d/pwfeedback", "/etc/sudoers.d/pwfeedback"],
  ["../include/bin/generate-oem.sh", "/usr/bin/sodalite-generate-oem"],
  ["../include/bin/install-appcenter-flatpak.sh", "/usr/bin/sodalite-install-appcenter-flatpak"],
  ["../include/bin/install-epiphany.sh", "/usr/bin/sodalite-install-epiphany"],
  ["../include/bin/reset-plank-items.sh", "/usr/bin/sodalite-reset-plank-items"],
  ["../include/bin/uninstall-gnome-apps.sh", "/usr/bin/sodalite-uninstall-gnome-apps"],
  ["../include/configs/bashrc", "/etc/skel/.bashrc"],
  ["../include/configs/applications/org.gnome.Software.desktop", "/usr/share/applications/org.gnome.Software.desktop"],
  ["../include/configs/gschemas/io.elementary.desktop.gschema.override", "/usr/share/glib-2.0/schemas/io.elementary.desktop.gschema.override"],
  ["../include/configs/plank/firefox.dockitem", "/etc/skel/.config/plank/dock1/launchers/firefox.dockitem"],
  ["../include/configs/plank/io.elementary.files.dockitem", "/etc/skel/.config/plank/dock1/launchers/io.elementary.files.dockitem"],
  ["../include/configs/plank/org.gnome.Software.dockitem", "/etc/skel/.config/plank/dock1/launchers/org.gnome.Software.dockitem"],
  ["../include/configs/tlp/50-vm-writeback.conf", "/etc/tlp.d/50-vm-writeback.conf"],
  ["../include/configs/upstream-release", "/etc/upstream-release/lsb-release"],
  ["../include/icons/appcenter-48.svg", "/usr/share/icons/appcenter-48.svg"],
  ["../include/services/generate-oem.service", "/etc/systemd/system/sodalite-generate-oem.service"],
  ["../include/services/install-appcenter-flatpak.service", "/etc/systemd/system/sodalite-install-appcenter-flatpak.service"],
  ["../include/tools/cleanup.sh", "/usr/bin/sodalite-cleanup"],
  ["../include/tools/common.sh", "/usr/libexec/sodalite-common"],
  ["../include/tools/get-variant.sh", "/usr/bin/sodalite-get-variant"],
  ["../include/tools/set-hostname.sh", "/usr/bin/sodalite-set-hostname"],
  ["../include/tools/update.sh", "/usr/bin/sodalite-update"],
  ["../include/wallpapers/adrien-olichon-gXqgs6Smvw-unsplash.jpg", "/usr/share/backgrounds/default/adrien-olichon-gXqgs6Smvw-unsplash.jpg"],
  ["../include/wallpapers/austin-neill-AGPGx6Yr9NI-unsplash.jpg", "/usr/share/backgrounds/default/austin-neill-AGPGx6Yr9NI-unsplash.jpg"],
  ["../include/wallpapers/cody-fitzgerald-iUBG6hQe4N0-unsplash.jpg", "/usr/share/backgrounds/default/cody-fitzgerald-iUBG6hQe4N0-unsplash.jpg"],
  ["../include/wallpapers/karsten-wurth-7BjhtdogU3A-unsplash.jpg", "/usr/share/backgrounds/default/karsten-wurth-7BjhtdogU3A-unsplash.jpg"],
  ["../include/wallpapers/nathan-dumlao-y_qtd7IizFE-unsplash.jpg", "/usr/share/backgrounds/default/nathan-dumlao-y_qtd7IizFE-unsplash.jpg"],
  ["../include/wallpapers/smaran-alva-hno1wDtV1X4-unsplash.jpg", "/usr/share/backgrounds/default/smaran-alva-hno1wDtV1X4-unsplash.jpg"],
  ["../include/wallpapers/william-daigneault-7c8z4KEvgds-unsplash.jpg", "/usr/share/backgrounds/default/william-daigneault-7c8z4KEvgds-unsplash.jpg"],
  ["../include/wallpapers/zara-walker-_pC5hT6aXfs-unsplash.jpg", "/usr/share/backgrounds/default/zara-walker-_pC5hT6aXfs-unsplash.jpg"],
]
tmp-is-dir: true
